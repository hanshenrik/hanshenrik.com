---
import { YouTube } from "astro-embed";
import { Icon } from "astro-icon/components";

import videos from "../data/videos.json";
import Layout from "../layouts/Layout.astro";
---

<Layout title="Video">
  <div class="mx-auto max-w-7xl">
    <h1 class="mb-12">Video</h1>
    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        videos.map((video) => (
          <div class="card group space-y-2">
            {video.youtubeLink && <YouTube id={video.youtubeLink} />}
            <div class="card-content">
              <h2 class="mb-1">
                {video.artist} - {video.name}
              </h2>
              <p class="mb-4 text-sm text-gray-500">{video.description}</p>
              {video.isPlaylist && (
                <p class="mb-4 text-sm text-gray-500">
                  <a
                    href={video.youtubeLink}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-1 rounded-full bg-red-100 px-3 py-1.5 text-sm text-red-700 transition-colors duration-200 hover:bg-red-200"
                  >
                    <Icon name="arcticons:youtube" />
                    View full playlist
                  </a>
                </p>
              )}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</Layout>
